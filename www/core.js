Ext.define("Ext.device.communicator.Default",{SERVER_URL:"http://localhost:3000",callbackDataMap:{},callbackIdMap:{},idSeed:0,globalScopeId:"0",generateId:function(){return String(++this.idSeed);},getId:function(a){var b=a.$callbackId;if(!b){a.$callbackId=b=this.generateId();}return b;},getCallbackId:function(h,d){var c=this.callbackIdMap,b=this.callbackDataMap,g,a,f,e;if(!d){a=this.globalScopeId;}else{if(d.isIdentifiable){a=d.getId();}else{a=this.getId(d);}}f=this.getId(h);if(!c[a]){c[a]={};}if(!c[a][f]){g=this.generateId();e={callback:h,scope:d};c[a][f]=g;b[g]=e;}return c[a][f];},getCallbackData:function(a){return this.callbackDataMap[a];},invoke:function(c,a){var b=this.getCallbackData(c);b.callback.apply(b.scope,a);},send:function(b){var d,c,a,e;if(!b){b={};}else{if(b.callbacks){d=b.callbacks;c=b.scope;delete b.callbacks;delete b.scope;for(a in d){if(d.hasOwnProperty(a)){e=d[a];if(typeof e=="function"){b[a]=this.getCallbackId(e,c);}}}}}this.doSend(b);},doSend:function(a){var b=new XMLHttpRequest();b.open("GET",this.SERVER_URL+"?"+Ext.Object.toQueryString(a),false);b.send(null);}});Ext.define("Ext.device.communicator.Android",{extend:"Ext.device.communicator.Default",doSend:function(a){window.Sencha.action(JSON.stringify(a));}});Ext.define("Ext.device.Communicator",{requires:["Ext.device.communicator.Default","Ext.device.communicator.Android"],singleton:true,constructor:function(){if(Ext.os.is.Android){return new Ext.device.communicator.Android();}return new Ext.device.communicator.Default();}});Ext.define("Ext.device.camera.Abstract",{source:{library:0,camera:1,album:2},destination:{data:0,file:1},encoding:{jpeg:0,jpg:0,png:1},capture:Ext.emptyFn});Ext.define("Ext.device.camera.PhoneGap",{extend:"Ext.device.camera.Abstract",capture:function(j){var h=j.success,d=j.failure,l=j.scope,b=this.source,f=this.destination,i=this.encoding,a=j.source,k=j.destination,c=j.encoding,m={};if(l){h=Ext.Function.bind(h,l);d=Ext.Function.bind(d,l);}if(a!==undefined){m.sourceType=b.hasOwnProperty(a)?b[a]:a;}if(k!==undefined){m.destinationType=f.hasOwnProperty(k)?f[k]:k;}if(c!==undefined){m.encodingType=i.hasOwnProperty(c)?i[c]:c;}if("quality" in j){m.quality=j.quality;}if("width" in j){m.targetWidth=j.width;}if("height" in j){m.targetHeight=j.height;}try{navigator.camera.getPicture(h,d,m);}catch(g){alert(g);}}});Ext.define("Ext.device.camera.Sencha",{extend:"Ext.device.camera.Abstract",requires:["Ext.device.Communicator"],capture:function(d){var c=this.source,b=this.destination,f=this.encoding,g=d.source,a=d.destination,e=d.encoding;if(c.hasOwnProperty(g)){g=c[g];}if(b.hasOwnProperty(a)){a=b[a];}if(f.hasOwnProperty(e)){e=f[e];}Ext.device.Communicator.send({command:"Camera#capture",callbacks:{success:d.success,failure:d.failure},scope:d.scope,quality:d.quality,width:d.width,height:d.height,source:g,destination:a,encoding:e});}});Ext.define("Ext.device.camera.Simulator",{extend:"Ext.device.camera.Abstract",config:{samples:[{success:"http://www.sencha.com/img/sencha-large.png"}]},constructor:function(a){this.initConfig(a);},updateSamples:function(a){this.sampleIndex=0;},capture:function(d){var c=this.sampleIndex,b=this.getSamples(),g=b.length,f=b[c],e=d.scope,h=d.success,a=d.failure;if("success" in f){if(h){h.call(e,f.success);}}else{if(a){a.call(e,f.failure);}}if(++c>g-1){c=0;}this.sampleIndex=c;}});Ext.define("Ext.device.connection.Abstract",{extend:"Ext.Evented",config:{online:false,type:null},UNKNOWN:"Unknown connection",ETHERNET:"Ethernet connection",WIFI:"WiFi connection",CELL_2G:"Cell 2G connection",CELL_3G:"Cell 3G connection",CELL_4G:"Cell 4G connection",NONE:"No network connection",isOnline:function(){return this.getOnline();}});Ext.define("Ext.device.connection.PhoneGap",{extend:"Ext.device.connection.Abstract",syncOnline:function(){var a=navigator.network.connection.type;this._type=a;this._online=a!=Connection.NONE;},getOnline:function(){this.syncOnline();return this._online;},getType:function(){this.syncOnline();return this._type;}});Ext.define("Ext.device.connection.Sencha",{extend:"Ext.device.connection.Abstract",initialize:function(){Ext.device.Communicator.send({command:"Connection#watch",callbacks:{callback:this.onConnectionChange},scope:this});},onConnectionChange:function(a){this.setOnline(Boolean(a.online));this.setType(this[a.type]);this.fireEvent("onlinechange",this.getOnline(),this.getType());}});Ext.define("Ext.device.connection.Simulator",{extend:"Ext.device.connection.Abstract",getOnline:function(){this._online=navigator.onLine;this._type=Ext.device.Connection.UNKNOWN;return this._online;}});Ext.define("Ext.device.notification.Abstract",{show:function(a){if(!a.message){throw ("[Ext.device.Notification#show] You passed no message");}if(!a.buttons){a.buttons="OK";}if(!Ext.isArray(a.buttons)){a.buttons=[a.buttons];}if(!a.scope){a.scope=this;}return a;},vibrate:Ext.emptyFn});Ext.define("Ext.device.notification.PhoneGap",{extend:"Ext.device.notification.Abstract",requires:["Ext.device.Communicator"],show:function(){var b=this.callParent(arguments),c=(b.buttons)?b.buttons.join(","):null,a=function(d){if(b.callback){b.callback.apply(b.scope,(b.buttons)?[b.buttons[d-1]]:[]);}};navigator.notification.confirm(b.message,a,b.title,c);},vibrate:function(){navigator.notification.vibrate(2000);}});Ext.define("Ext.device.notification.Sencha",{extend:"Ext.device.notification.Abstract",requires:["Ext.device.Communicator"],show:function(){var a=this.callParent(arguments);Ext.device.Communicator.send({command:"Notification#show",callbacks:{callback:a.callback},scope:a.scope,title:a.title,message:a.message,buttons:a.buttons.join(",")});},vibrate:function(){Ext.device.Communicator.send({command:"Notification#vibrate"});}});Ext.define("Ext.device.notification.Simulator",{extend:"Ext.device.notification.Abstract",requires:["Ext.MessageBox"],msg:null,show:function(){var a=this.callParent(arguments),e=[],d=a.buttons.length,c,b,g,f;for(b=0;b<d;b++){c=a.buttons[b];if(Ext.isString(c)){c={text:a.buttons[b],itemId:a.buttons[b].toLowerCase()};}e.push(c);}this.msg=Ext.create("Ext.MessageBox");f=this.msg;g=function(h){if(a.callback){a.callback.apply(a.scope,[h]);}};this.msg.show({title:a.title,message:a.message,scope:this.msg,buttons:e,fn:g});},vibrate:function(){var c=["@-webkit-keyframes vibrate{","    from {","        -webkit-transform: rotate(-2deg);","    }","    to{","        -webkit-transform: rotate(2deg);","    }","}","body {","    -webkit-animation: vibrate 50ms linear 10 alternate;","}"];var b=document.getElementsByTagName("head")[0];var a=document.createElement("style");a.innerHTML=c.join("\n");b.appendChild(a);setTimeout(function(){b.removeChild(a);},400);}});Ext.define("Ext.device.orientation.Abstract",{extend:"Ext.EventedBase",onDeviceOrientation:function(a){this.doFireEvent("orientationchange",[a]);}});Ext.define("Ext.device.orientation.HTML5",{extend:"Ext.device.orientation.Abstract",initialize:function(){this.onDeviceOrientation=Ext.Function.bind(this.onDeviceOrientation,this);window.addEventListener("deviceorientation",this.onDeviceOrientation,true);}});Ext.define("Ext.device.orientation.Sencha",{extend:"Ext.device.orientation.Abstract",requires:["Ext.device.Communicator"],initialize:function(){Ext.device.Communicator.send({command:"Orientation#watch",callbacks:{callback:this.onDeviceOrientation},scope:this});}});Ext.define("Ext.device.Notification",{singleton:true,requires:["Ext.device.Communicator","Ext.device.notification.PhoneGap","Ext.device.notification.Sencha","Ext.device.notification.Simulator"],constructor:function(){var a=Ext.browser.is;if(a.WebView){if(a.PhoneGap){return Ext.create("Ext.device.notification.PhoneGap");}else{return Ext.create("Ext.device.notification.Sencha");}}else{return Ext.create("Ext.device.notification.Simulator");}}});Ext.define("Ext.device.Connection",{singleton:true,requires:["Ext.device.Communicator","Ext.device.connection.Sencha","Ext.device.connection.PhoneGap","Ext.device.connection.Simulator"],constructor:function(){var a=Ext.browser.is;if(a.WebView){if(a.PhoneGap){return Ext.create("Ext.device.connection.PhoneGap");}else{return Ext.create("Ext.device.connection.Sencha");}}else{return Ext.create("Ext.device.connection.Simulator");}}});Ext.define("Ext.device.Camera",{singleton:true,requires:["Ext.device.Communicator","Ext.device.camera.PhoneGap","Ext.device.camera.Sencha","Ext.device.camera.Simulator"],constructor:function(){var a=Ext.browser.is;if(a.WebView){if(a.PhoneGap){return Ext.create("Ext.device.camera.PhoneGap");}else{return Ext.create("Ext.device.camera.Sencha");}}else{return Ext.create("Ext.device.camera.Simulator");}}});Ext.define("Ext.device.Orientation",{singleton:true,requires:["Ext.device.Communicator","Ext.device.orientation.HTML5","Ext.device.orientation.Sencha"],constructor:function(){var a=Ext.browser.is;if(a.Sencha){return Ext.create("Ext.device.orientation.Sencha");}else{return Ext.create("Ext.device.orientation.HTML5");}}});Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};(function(){var b=Date,a=b.prototype,d=b.CultureInfo,g=function(i,h){if(!h){h=2;}return("000"+i).slice(h*-1);};a.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this;};a.setTimeToNow=function(){var h=new Date();this.setHours(h.getHours());this.setMinutes(h.getMinutes());this.setSeconds(h.getSeconds());this.setMilliseconds(h.getMilliseconds());return this;};b.today=function(){return new Date().clearTime();};b.compare=function(i,h){if(isNaN(i)||isNaN(h)){throw new Error(i+" - "+h);}else{if(i instanceof Date&&h instanceof Date){return(i<h)?-1:(i>h)?1:0;}else{throw new TypeError(i+" - "+h);}}};b.equals=function(i,h){return(i.compareTo(h)===0);};b.getDayNumberFromName=function(j){var q=d.dayNames,h=d.abbreviatedDayNames,p=d.shortestDayNames,l=j.toLowerCase();for(var k=0;k<q.length;k++){if(q[k].toLowerCase()==l||h[k].toLowerCase()==l||p[k].toLowerCase()==l){return k;}}return -1;};b.getMonthNumberFromName=function(j){var o=d.monthNames,h=d.abbreviatedMonthNames,l=j.toLowerCase();for(var k=0;k<o.length;k++){if(o[k].toLowerCase()==l||h[k].toLowerCase()==l){return k;}}return -1;};b.isLeapYear=function(h){return((h%4===0&&h%100!==0)||h%400===0);};b.getDaysInMonth=function(h,i){return[31,(b.isLeapYear(h)?29:28),31,30,31,30,31,31,30,31,30,31][i];};b.getTimezoneAbbreviation=function(l){var k=d.timezones,j;for(var h=0;h<k.length;h++){if(k[h].offset===l){return k[h].name;}}return null;};b.getTimezoneOffset=function(h){var l=d.timezones,k;for(var j=0;j<l.length;j++){if(l[j].name===h.toUpperCase()){return l[j].offset;}}return null;};a.clone=function(){return new Date(this.getTime());};a.compareTo=function(h){return Date.compare(this,h);};a.equals=function(h){return Date.equals(this,h||new Date());};a.between=function(i,h){return this.getTime()>=i.getTime()&&this.getTime()<=h.getTime();};a.isAfter=function(h){return this.compareTo(h||new Date())===1;};a.isBefore=function(h){return(this.compareTo(h||new Date())===-1);};a.isToday=function(){return this.isSameDay(new Date());};a.isSameDay=function(h){return this.clone().clearTime().equals(h.clone().clearTime());};a.addMilliseconds=function(h){this.setMilliseconds(this.getMilliseconds()+h);return this;};a.addSeconds=function(h){return this.addMilliseconds(h*1000);};a.addMinutes=function(h){return this.addMilliseconds(h*60000);};a.addHours=function(h){return this.addMilliseconds(h*3600000);};a.addDays=function(h){this.setDate(this.getDate()+h);return this;};a.addWeeks=function(h){return this.addDays(h*7);};a.addMonths=function(h){var i=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+h);this.setDate(Math.min(i,b.getDaysInMonth(this.getFullYear(),this.getMonth())));return this;};a.addYears=function(h){return this.addMonths(h*12);};a.add=function(i){if(typeof i=="number"){this._orient=i;return this;}var h=i;if(h.milliseconds){this.addMilliseconds(h.milliseconds);}if(h.seconds){this.addSeconds(h.seconds);}if(h.minutes){this.addMinutes(h.minutes);}if(h.hours){this.addHours(h.hours);}if(h.weeks){this.addWeeks(h.weeks);}if(h.months){this.addMonths(h.months);}if(h.years){this.addYears(h.years);}if(h.days){this.addDays(h.days);}return this;};var e,f,c;a.getWeek=function(){var p,o,m,l,k,j,i,h,t,q;e=(!e)?this.getFullYear():e;f=(!f)?this.getMonth()+1:f;c=(!c)?this.getDate():c;if(f<=2){p=e-1;o=(p/4|0)-(p/100|0)+(p/400|0);m=((p-1)/4|0)-((p-1)/100|0)+((p-1)/400|0);t=o-m;k=0;j=c-1+(31*(f-1));}else{p=e;o=(p/4|0)-(p/100|0)+(p/400|0);m=((p-1)/4|0)-((p-1)/100|0)+((p-1)/400|0);t=o-m;k=t+1;j=c+((153*(f-3)+2)/5)+58+t;}i=(p+o)%7;l=(j+i-k)%7;h=(j+3-l)|0;if(h<0){q=53-((i-t)/5|0);}else{if(h>364+t){q=1;}else{q=(h/7|0)+1;}}e=f=c=null;return q;};a.getISOWeek=function(){e=this.getUTCFullYear();f=this.getUTCMonth()+1;c=this.getUTCDate();return g(this.getWeek());};a.setWeek=function(h){return this.moveToDayOfWeek(1).addWeeks(h-this.getWeek());};b._validate=function(k,j,h,i){if(typeof k=="undefined"){return false;}else{if(typeof k!="number"){throw new TypeError(k+" is not a Number.");}else{if(k<j||k>h){throw new RangeError(k+" is not a valid value for "+i+".");}}}return true;};b.validateMillisecond=function(h){return b._validate(h,0,999,"millisecond");};b.validateSecond=function(h){return b._validate(h,0,59,"second");};b.validateMinute=function(h){return b._validate(h,0,59,"minute");};b.validateHour=function(h){return b._validate(h,0,23,"hour");};b.validateDay=function(i,h,j){return b._validate(i,1,b.getDaysInMonth(h,j),"day");};b.validateMonth=function(h){return b._validate(h,0,11,"month");};b.validateYear=function(h){return b._validate(h,0,9999,"year");};a.set=function(h){if(b.validateMillisecond(h.millisecond)){this.addMilliseconds(h.millisecond-this.getMilliseconds());}if(b.validateSecond(h.second)){this.addSeconds(h.second-this.getSeconds());}if(b.validateMinute(h.minute)){this.addMinutes(h.minute-this.getMinutes());}if(b.validateHour(h.hour)){this.addHours(h.hour-this.getHours());}if(b.validateMonth(h.month)){this.addMonths(h.month-this.getMonth());}if(b.validateYear(h.year)){this.addYears(h.year-this.getFullYear());}if(b.validateDay(h.day,this.getFullYear(),this.getMonth())){this.addDays(h.day-this.getDate());}if(h.timezone){this.setTimezone(h.timezone);}if(h.timezoneOffset){this.setTimezoneOffset(h.timezoneOffset);}if(h.week&&b._validate(h.week,0,53,"week")){this.setWeek(h.week);}return this;};a.moveToFirstDayOfMonth=function(){return this.set({day:1});};a.moveToLastDayOfMonth=function(){return this.set({day:b.getDaysInMonth(this.getFullYear(),this.getMonth())});};a.moveToNthOccurrence=function(i,j){var h=0;if(j>0){h=j-1;}else{if(j===-1){this.moveToLastDayOfMonth();if(this.getDay()!==i){this.moveToDayOfWeek(i,-1);}return this;}}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(i,+1).addWeeks(h);};a.moveToDayOfWeek=function(h,i){var j=(h-this.getDay()+7*(i||+1))%7;return this.addDays((j===0)?j+=7*(i||+1):j);};a.moveToMonth=function(j,h){var i=(j-this.getMonth()+12*(h||+1))%12;return this.addMonths((i===0)?i+=12*(h||+1):i);};a.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/86400000)+1;};a.getTimezone=function(){return b.getTimezoneAbbreviation(this.getUTCOffset());};a.setTimezoneOffset=function(j){var h=this.getTimezoneOffset(),i=Number(j)*-6/10;return this.addMinutes(i-h);};a.setTimezone=function(h){return this.setTimezoneOffset(b.getTimezoneOffset(h));};a.hasDaylightSavingTime=function(){return(Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset());};a.isDaylightSavingTime=function(){return(this.hasDaylightSavingTime()&&new Date().getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset());};a.getUTCOffset=function(){var i=this.getTimezoneOffset()*-10/6,h;if(i<0){h=(i-10000).toString();return h.charAt(0)+h.substr(2);}else{h=(i+10000).toString();return"+"+h.substr(1);}};a.getElapsed=function(h){return(h||new Date())-this;};if(!a.toISOString){a.toISOString=function(){function h(i){return i<10?"0"+i:i;}return'"'+this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+'Z"';};}a._toString=a.toString;a.toString=function(j){var h=this;if(j&&j.length==1){var k=d.formatPatterns;h.t=h.toString;switch(j){case"d":return h.t(k.shortDate);case"D":return h.t(k.longDate);case"F":return h.t(k.fullDateTime);case"m":return h.t(k.monthDay);case"r":return h.t(k.rfc1123);case"s":return h.t(k.sortableDateTime);case"t":return h.t(k.shortTime);case"T":return h.t(k.longTime);case"u":return h.t(k.universalSortableDateTime);case"y":return h.t(k.yearMonth);}}var i=function(l){switch(l*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th";}};return j?j.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(l){if(l.charAt(0)==="\\"){return l.replace("\\","");}h.h=h.getHours;switch(l){case"hh":return g(h.h()<13?(h.h()===0?12:h.h()):(h.h()-12));case"h":return h.h()<13?(h.h()===0?12:h.h()):(h.h()-12);case"HH":return g(h.h());case"H":return h.h();case"mm":return g(h.getMinutes());case"m":return h.getMinutes();case"ss":return g(h.getSeconds());case"s":return h.getSeconds();case"yyyy":return g(h.getFullYear(),4);case"yy":return g(h.getFullYear());case"dddd":return d.dayNames[h.getDay()];case"ddd":return d.abbreviatedDayNames[h.getDay()];case"dd":return g(h.getDate());case"d":return h.getDate();case"MMMM":return d.monthNames[h.getMonth()];case"MMM":return d.abbreviatedMonthNames[h.getMonth()];case"MM":return g((h.getMonth()+1));case"M":return h.getMonth()+1;case"t":return h.h()<12?d.amDesignator.substring(0,1):d.pmDesignator.substring(0,1);case"tt":return h.h()<12?d.amDesignator:d.pmDesignator;case"S":return i(h.getDate());default:return l;}}):this._toString();};}());(function(){var v=Date,g=v.prototype,w=v.CultureInfo,o=Number.prototype;g._orient=+1;g._nth=null;g._is=false;g._same=false;g._isSecond=false;o._dateElement="day";g.next=function(){this._orient=+1;return this;};v.next=function(){return v.today().next();};g.last=g.prev=g.previous=function(){this._orient=-1;return this;};v.last=v.prev=v.previous=function(){return v.today().last();};g.is=function(){this._is=true;return this;};g.same=function(){this._same=true;this._isSecond=false;return this;};g.today=function(){return this.same().day();};g.weekday=function(){if(this._is){this._is=false;return(!this.is().sat()&&!this.is().sun());}return false;};g.at=function(i){return(typeof i==="string")?v.parse(this.toString("d")+" "+i):this.set(i);};o.fromNow=o.after=function(i){var j={};j[this._dateElement]=this;return((!i)?new Date():i.clone()).add(j);};o.ago=o.before=function(i){var j={};j[this._dateElement]=this*-1;return((!i)?new Date():i.clone()).add(j);};var e=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),h=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),p=("Milliseconds Seconds Minutes Hours Date Week Month FullYear").split(/\s/),b=("final first second third fourth fifth").split(/\s/),y;g.toObject=function(){var k={};for(var j=0;j<n.length;j++){k[n[j].toLowerCase()]=this["get"+p[j]]();}return k;};v.fromObject=function(i){i.week=null;return Date.today().set(i);};var x=function(i){return function(){if(this._is){this._is=false;return this.getDay()==i;}if(this._nth!==null){if(this._isSecond){this.addSeconds(this._orient*-1);}this._isSecond=false;var k=this._nth;this._nth=null;var j=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(i,k);if(this>j){throw new RangeError(v.getDayName(i)+" does not occur "+k+" times in the month of "+v.getMonthName(j.getMonth())+" "+j.getFullYear()+".");}return this;}return this.moveToDayOfWeek(i,this._orient);};};var f=function(i){return function(){var k=v.today(),j=i-k.getDay();if(i===0&&w.firstDayOfWeek===1&&k.getDay()!==0){j=j+7;}return k.addDays(j);};};for(var u=0;u<e.length;u++){v[e[u].toUpperCase()]=v[e[u].toUpperCase().substring(0,3)]=u;v[e[u]]=v[e[u].substring(0,3)]=f(u);g[e[u]]=g[e[u].substring(0,3)]=x(u);}var z=function(i){return function(){if(this._is){this._is=false;return this.getMonth()===i;}return this.moveToMonth(i,this._orient);};};var m=function(i){return function(){return v.today().set({month:i,day:1});};};for(var t=0;t<h.length;t++){v[h[t].toUpperCase()]=v[h[t].toUpperCase().substring(0,3)]=t;v[h[t]]=v[h[t].substring(0,3)]=m(t);g[h[t]]=g[h[t].substring(0,3)]=z(t);}var c=function(i){return function(){if(this._isSecond){this._isSecond=false;return this;}if(this._same){this._same=this._is=false;var C=this.toObject(),B=(arguments[0]||new Date()).toObject(),A="",l=i.toLowerCase();for(var j=(n.length-1);j>-1;j--){A=n[j].toLowerCase();if(C[A]!=B[A]){return false;}if(l==A){break;}}return true;}if(i.substring(i.length-1)!="s"){i+="s";}return this["add"+i](this._orient);};};var d=function(i){return function(){this._dateElement=i;return this;};};for(var s=0;s<n.length;s++){y=n[s].toLowerCase();g[y]=g[y+"s"]=c(n[s]);o[y]=o[y+"s"]=d(y);}g._ss=c("Second");var a=function(i){return function(j){if(this._same){return this._ss(arguments[0]);}if(j||j===0){return this.moveToNthOccurrence(j,i);}this._nth=i;if(i===2&&(j===undefined||j===null)){this._isSecond=true;return this.addSeconds(this._orient);}return this;};};for(var q=0;q<b.length;q++){g[b[q]]=(q===0)?a(-1):a(q);}}());(function(){Date.Parsing={Exception:function(i){this.message="Parse error at '"+i.substring(0,10)+" ...'";}};var a=Date.Parsing;var c=a.Operators={rtoken:function(i){return function(j){var k=j.match(i);if(k){return([k[0],j.substring(k[0].length)]);}else{throw new a.Exception(j);}};},token:function(i){return function(j){return c.rtoken(new RegExp("^s*"+j+"s*"))(j);};},stoken:function(i){return c.rtoken(new RegExp("^"+i));},until:function(i){return function(j){var k=[],m=null;while(j.length){try{m=i.call(this,j);}catch(l){k.push(m[0]);j=m[1];continue;}break;}return[k,j];};},many:function(i){return function(j){var m=[],k=null;while(j.length){try{k=i.call(this,j);}catch(l){return[m,j];}m.push(k[0]);j=k[1];}return[m,j];};},optional:function(i){return function(j){var k=null;try{k=i.call(this,j);}catch(l){return[null,j];}return[k[0],k[1]];};},not:function(i){return function(j){try{i.call(this,j);}catch(k){return[null,j];}throw new a.Exception(j);};},ignore:function(i){return i?function(j){var k=null;k=i.call(this,j);return[null,k[1]];}:null;},product:function(){var k=arguments[0],l=Array.prototype.slice.call(arguments,1),m=[];for(var j=0;j<k.length;j++){m.push(c.each(k[j],l));}return m;},cache:function(k){var i={},j=null;return function(l){try{j=i[l]=(i[l]||k.call(this,l));}catch(m){j=i[l]=m;}if(j instanceof a.Exception){throw j;}else{return j;}};},any:function(){var i=arguments;return function(k){var l=null;for(var j=0;j<i.length;j++){if(i[j]==null){continue;}try{l=(i[j].call(this,k));}catch(m){l=null;}if(l){return l;}}throw new a.Exception(k);};},each:function(){var i=arguments;return function(k){var n=[],l=null;for(var j=0;j<i.length;j++){if(i[j]==null){continue;}try{l=(i[j].call(this,k));}catch(m){throw new a.Exception(k);}n.push(l[0]);k=l[1];}return[n,k];};},all:function(){var j=arguments,i=i;return i.each(i.optional(j));},sequence:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;if(i.length==1){return i[0];}return function(o){var p=null,t=null;var v=[];for(var n=0;n<i.length;n++){try{p=i[n].call(this,o);}catch(u){break;}v.push(p[0]);try{t=j.call(this,p[1]);}catch(m){t=null;break;}o=t[1];}if(!p){throw new a.Exception(o);}if(t){throw new a.Exception(t[1]);}if(k){try{p=k.call(this,p[1]);}catch(l){throw new a.Exception(p[1]);}}return[v,(p?p[1]:o)];};},between:function(j,k,i){i=i||j;var l=c.each(c.ignore(j),k,c.ignore(i));return function(m){var n=l.call(this,m);return[[n[0][0],r[0][2]],n[1]];};},list:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;return(i instanceof Array?c.each(c.product(i.slice(0,-1),c.ignore(j)),i.slice(-1),c.ignore(k)):c.each(c.many(c.each(i,c.ignore(j))),px,c.ignore(k)));},set:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;return function(B){var l=null,n=null,m=null,o=null,t=[[],B],A=false;for(var v=0;v<i.length;v++){m=null;n=null;l=null;A=(i.length==1);try{l=i[v].call(this,B);}catch(y){continue;}o=[[l[0]],l[1]];if(l[1].length>0&&!A){try{m=j.call(this,l[1]);}catch(z){A=true;}}else{A=true;}if(!A&&m[1].length===0){A=true;}if(!A){var w=[];for(var u=0;u<i.length;u++){if(v!=u){w.push(i[u]);}}n=c.set(w,j).call(this,m[1]);if(n[0].length>0){o[0]=o[0].concat(n[0]);o[1]=n[1];}}if(o[1].length<t[1].length){t=o;}if(t[1].length===0){break;}}if(t[0].length===0){return t;}if(k){try{m=k.call(this,t[1]);}catch(x){throw new a.Exception(t[1]);}t[1]=m[1];}return t;};},forward:function(i,j){return function(k){return i[j].call(this,k);};},replace:function(j,i){return function(k){var l=j.call(this,k);return[i,l[1]];};},process:function(j,i){return function(k){var l=j.call(this,k);return[i.call(this,l[0]),l[1]];};},min:function(i,j){return function(k){var l=j.call(this,k);if(l[0].length<i){throw new a.Exception(k);}return l;};}};var h=function(i){return function(){var j=null,m=[];if(arguments.length>1){j=Array.prototype.slice.call(arguments);}else{if(arguments[0] instanceof Array){j=arguments[0];}}if(j){for(var l=0,k=j.shift();l<k.length;l++){j.unshift(k[l]);m.push(i.apply(null,j));j.shift();return m;}}else{return i.apply(null,arguments);}};};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]]);}var f=function(i){return function(){if(arguments[0] instanceof Array){return i.apply(null,arguments[0]);}else{return i.apply(null,arguments);}};};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]]);}}());(function(){var e=Date,l=e.prototype,f=e.CultureInfo;var h=function(m){var n=[];for(var g=0;g<m.length;g++){if(m[g] instanceof Array){n=n.concat(h(m[g]));}else{if(m[g]){n.push(m[g]);}}}return n;};e.Grammar={};e.Translator={hour:function(g){return function(){this.hour=Number(g);};},minute:function(g){return function(){this.minute=Number(g);};},second:function(g){return function(){this.second=Number(g);};},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase();};},timezone:function(g){return function(){var m=g.replace(/[^\d\+\-]/g,"");if(m.length){this.timezoneOffset=Number(m);}else{this.timezone=g.toLowerCase();}};},day:function(g){var m=g[0];return function(){this.day=Number(m.match(/\d+/)[0]);};},month:function(g){return function(){this.month=(g.length==3)?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(g)/4:Number(g)-1;};},year:function(g){return function(){var m=Number(g);this.year=((g.length>2)?m:(m+(((m+2000)<f.twoDigitYearMax)?2000:1900)));};},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break;}};},finishExact:function(g){g=(g instanceof Array)?g:[g];for(var n=0;n<g.length;n++){if(g[n]){g[n].call(this);}}var m=new Date();if((this.hour||this.minute)&&(!this.month&&!this.year&&!this.day)){this.day=m.getDate();}if(!this.year){this.year=m.getFullYear();}if(!this.month&&this.month!==0){this.month=m.getMonth();}if(!this.day){this.day=1;}if(!this.hour){this.hour=0;}if(!this.minute){this.minute=0;}if(!this.second){this.second=0;}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12;}else{if(this.meridian=="a"&&this.hour==12){this.hour=0;}}}if(this.day>e.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.");}var o=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){o.set({timezone:this.timezone});}else{if(this.timezoneOffset){o.set({timezoneOffset:this.timezoneOffset});}}return o;},finish:function(g){g=(g instanceof Array)?h(g):[g];if(g.length===0){return null;}for(var q=0;q<g.length;q++){if(typeof g[q]=="function"){g[q].call(this);}}var n=e.today();if(this.now&&!this.unit&&!this.operator){return new Date();}else{if(this.now){n=new Date();}}var s=!!(this.days&&this.days!==null||this.orient||this.operator);var t,p,o;o=((this.orient=="past"||this.operator=="subtract")?-1:1);if(!this.now&&"hour minute second".indexOf(this.unit)!=-1){n.setTimeToNow();}if(this.month||this.month===0){if("year day hour minute second".indexOf(this.unit)!=-1){this.value=this.month+1;this.month=null;s=true;}}if(!s&&this.weekday&&!this.day&&!this.days){var m=Date[this.weekday]();this.day=m.getDate();if(!this.month){this.month=m.getMonth();}this.year=m.getFullYear();}if(s&&this.weekday&&this.unit!="month"){this.unit="day";t=(e.getDayNumberFromName(this.weekday)-n.getDay());p=7;this.days=t?((t+(o*p))%p):(o*p);}if(this.month&&this.unit=="day"&&this.operator){this.value=(this.month+1);this.month=null;}if(this.value!=null&&this.month!=null&&this.year!=null){this.day=this.value*1;}if(this.month&&!this.day&&this.value){n.set({day:this.value*1});if(!s){this.day=this.value*1;}}if(!this.month&&this.value&&this.unit=="month"&&!this.now){this.month=this.value;s=true;}if(s&&(this.month||this.month===0)&&this.unit!="year"){this.unit="month";t=(this.month-n.getMonth());p=12;this.months=t?((t+(o*p))%p):(o*p);this.month=null;}if(!this.unit){this.unit="day";}if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null){this[this.unit+"s"]=this[this.unit+"s"]+((this.operator=="add")?1:-1)+(this.value||0)*o;}else{if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1;}this[this.unit+"s"]=this.value*o;}}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12;}else{if(this.meridian=="a"&&this.hour==12){this.hour=0;}}}if(this.weekday&&!this.day&&!this.days){var m=Date[this.weekday]();this.day=m.getDate();if(m.getMonth()!==n.getMonth()){this.month=m.getMonth();}}if((this.month||this.month===0)&&!this.day){this.day=1;}if(!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month){return Date.today().setWeek(this.value);}if(s&&this.timezone&&this.day&&this.days){this.day=this.days;}return(s)?n.add(this):n.set(this);}};var i=e.Parsing.Operators,d=e.Grammar,k=e.Translator,b;d.datePartDelimiter=i.rtoken(/^([\s\-\.\,\/\x27]+)/);d.timePartDelimiter=i.stoken(":");d.whiteSpace=i.rtoken(/^\s*/);d.generalDelimiter=i.rtoken(/^(([\s\,]|at|@|on)+)/);var a={};d.ctoken=function(p){var o=a[p];if(!o){var q=f.regexPatterns;var n=p.split(/\s+/),m=[];for(var g=0;g<n.length;g++){m.push(i.replace(i.rtoken(q[n[g]]),n[g]));}o=a[p]=i.any.apply(null,m);}return o;};d.ctoken2=function(g){return i.rtoken(f.regexPatterns[g]);};d.h=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),k.hour));d.hh=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2])/),k.hour));d.H=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),k.hour));d.HH=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3])/),k.hour));d.m=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),k.minute));d.mm=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),k.minute));d.s=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),k.second));d.ss=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),k.second));d.hms=i.cache(i.sequence([d.H,d.m,d.s],d.timePartDelimiter));d.t=i.cache(i.process(d.ctoken2("shortMeridian"),k.meridian));d.tt=i.cache(i.process(d.ctoken2("longMeridian"),k.meridian));d.z=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),k.timezone));d.zz=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),k.timezone));d.zzz=i.cache(i.process(d.ctoken2("timezone"),k.timezone));d.timeSuffix=i.each(i.ignore(d.whiteSpace),i.set([d.tt,d.zzz]));d.time=i.each(i.optional(i.ignore(i.stoken("T"))),d.hms,d.timeSuffix);d.d=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1]|\d)/),i.optional(d.ctoken2("ordinalSuffix"))),k.day));d.dd=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1])/),i.optional(d.ctoken2("ordinalSuffix"))),k.day));d.ddd=d.dddd=i.cache(i.process(d.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g;};}));d.M=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d|\d)/),k.month));d.MM=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d)/),k.month));d.MMM=d.MMMM=i.cache(i.process(d.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),k.month));d.y=i.cache(i.process(i.rtoken(/^(\d\d?)/),k.year));d.yy=i.cache(i.process(i.rtoken(/^(\d\d)/),k.year));d.yyy=i.cache(i.process(i.rtoken(/^(\d\d?\d?\d?)/),k.year));d.yyyy=i.cache(i.process(i.rtoken(/^(\d\d\d\d)/),k.year));b=function(){return i.each(i.any.apply(null,arguments),i.not(d.ctoken2("timeContext")));};d.day=b(d.d,d.dd);d.month=b(d.M,d.MMM);d.year=b(d.yyyy,d.yy);d.orientation=i.process(d.ctoken("past future"),function(g){return function(){this.orient=g;};});d.operator=i.process(d.ctoken("add subtract"),function(g){return function(){this.operator=g;};});d.rday=i.process(d.ctoken("yesterday tomorrow today now"),k.rday);d.unit=i.process(d.ctoken("second minute hour day week month year"),function(g){return function(){this.unit=g;};});d.value=i.process(i.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"");};});d.expression=i.set([d.rday,d.operator,d.value,d.unit,d.orientation,d.ddd,d.MMM]);b=function(){return i.set(arguments,d.datePartDelimiter);};d.mdy=b(d.ddd,d.month,d.day,d.year);d.ymd=b(d.ddd,d.year,d.month,d.day);d.dmy=b(d.ddd,d.day,d.month,d.year);d.date=function(g){return((d[f.dateElementOrder]||d.mdy).call(this,g));};d.format=i.process(i.many(i.any(i.process(i.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(d[g]){return d[g];}else{throw e.Parsing.Exception(g);}}),i.process(i.rtoken(/^[^dMyhHmstz]+/),function(g){return i.ignore(i.stoken(g));}))),function(g){return i.process(i.each.apply(null,g),k.finishExact);});var j={};var c=function(g){return j[g]=(j[g]||d.format(g)[0]);};d.formats=function(m){if(m instanceof Array){var n=[];for(var g=0;g<m.length;g++){n.push(c(m[g]));}return i.any.apply(null,n);}else{return c(m);}};d._formats=d.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);d._start=i.process(i.set([d.date,d.time,d.expression],d.generalDelimiter,d.whiteSpace),k.finish);d.start=function(g){try{var m=d._formats.call({},g);if(m[1].length===0){return m;}}catch(n){}return d._start.call({},g);};e._parse=e.parse;e.parse=function(g){var m=null;if(!g){return null;}if(g instanceof Date){return g;}try{m=e.Grammar.start.call({},g.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"));}catch(n){return null;}return((m[1].length===0)?m[0]:null);};e.getParseFunction=function(m){var g=e.Grammar.formats(m);return function(n){var o=null;try{o=g.call({},n);}catch(p){return null;}return((o[1].length===0)?o[0]:null);};};e.parseExact=function(g,m){return e.getParseFunction(m)(g);};}());(function(){var c=Date,b=c.prototype,d=c.CultureInfo,a=[],e=function(g,f){if(!f){f=2;}return("000"+g).slice(f*-1);};c.normalizeFormat=function(g){a=[];var f=new Date().$format(g);return a.join("");};c.strftime=function(g,f){return new Date(f*1000).$format(g);};c.strtotime=function(f){var g=c.parse(f);g.addMinutes(g.getTimezoneOffset()*-1);return Math.round(c.UTC(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds())/1000);};b.$format=function(h){var f=this,i,g=function(j){a.push(j);return f.toString(j);};return h?h.replace(/(%|\\)?.|%%/g,function(j){if(j.charAt(0)==="\\"||j.substring(0,2)==="%%"){return j.replace("\\","").replace("%%","%");}switch(j){case"d":case"%d":return g("dd");case"D":case"%a":return g("ddd");case"j":case"%e":return g("d");case"l":case"%A":return g("dddd");case"N":case"%u":return f.getDay()+1;case"S":return g("S");case"w":case"%w":return f.getDay();case"z":return f.getOrdinalNumber();case"%j":return e(f.getOrdinalNumber(),3);case"%U":var n=f.clone().set({month:0,day:1}).addDays(-1).moveToDayOfWeek(0),l=f.clone().addDays(1).moveToDayOfWeek(0,-1);return(l<n)?"00":e((l.getOrdinalNumber()-n.getOrdinalNumber())/7+1);case"W":case"%V":return f.getISOWeek();case"%W":return e(f.getWeek());case"F":case"%B":return g("MMMM");case"m":case"%m":return g("MM");case"M":case"%b":case"%h":return g("MMM");case"n":return g("M");case"t":return c.getDaysInMonth(f.getFullYear(),f.getMonth());case"L":return(c.isLeapYear(f.getFullYear()))?1:0;case"o":case"%G":return f.setWeek(f.getISOWeek()).toString("yyyy");case"%g":return f.$format("%G").slice(-2);case"Y":case"%Y":return g("yyyy");case"y":case"%y":return g("yy");case"a":case"%p":return g("tt").toLowerCase();case"A":return g("tt").toUpperCase();case"g":case"%I":return g("h");case"G":return g("H");case"h":return g("hh");case"H":case"%H":return g("HH");case"i":case"%M":return g("mm");case"s":case"%S":return g("ss");case"u":return e(f.getMilliseconds(),3);case"I":return(f.isDaylightSavingTime())?1:0;case"O":return f.getUTCOffset();case"P":i=f.getUTCOffset();return i.substring(0,i.length-2)+":"+i.substring(i.length-2);case"e":case"T":case"%z":case"%Z":return f.getTimezone();case"Z":return f.getTimezoneOffset()*-60;case"B":var k=new Date();return Math.floor(((k.getHours()*3600)+(k.getMinutes()*60)+k.getSeconds()+(k.getTimezoneOffset()+60)*60)/86.4);case"c":return f.toISOString().replace(/\"/g,"");case"U":return c.strtotime("now");case"%c":return g("d")+" "+g("t");case"%C":return Math.floor(f.getFullYear()/100+1);case"%D":return g("MM/dd/yy");case"%n":return"\\n";case"%t":return"\\t";case"%r":return g("hh:mm tt");case"%R":return g("H:mm");case"%T":return g("H:mm:ss");case"%x":return g("d");case"%X":return g("t");default:a.push(j);return j;}}):this._toString();};if(!b.format){b.format=b.$format;}}());var QRCode=function(){var n=function(D,t){var L=236;var K=17;var x=D;var z=i[t];var v=null;var G=0;var q=null;var B=new Array();var H={};var E=function(N,M){G=x*4+17;v=function(R){var P=new Array(R);for(var Q=0;Q<R;Q+=1){P[Q]=new Array(R);for(var O=0;O<R;O+=1){P[Q][O]=null;}}return P;}(G);A(0,0);A(G-7,0);A(0,G-7);C();s();J(N,M);if(x>=7){y(N);}if(q==null){q=u(x,z,B);}F(q,M);};var A=function(O,M){for(var N=-1;N<=7;N+=1){if(O+N<=-1||G<=O+N){continue;}for(var P=-1;P<=7;P+=1){if(M+P<=-1||G<=M+P){continue;}if((0<=N&&N<=6&&(P==0||P==6))||(0<=P&&P<=6&&(N==0||N==6))||(2<=N&&N<=4&&2<=P&&P<=4)){v[O+N][M+P]=true;}else{v[O+N][M+P]=false;}}}};var w=function(){var P=0;var O=0;for(var N=0;N<8;N+=1){E(true,N);var M=h.getLostPoint(H);if(N==0||P>M){P=M;O=N;}}return O;};var s=function(){for(var M=8;M<G-8;M+=1){if(v[M][6]!=null){continue;}v[M][6]=(M%2==0);}for(var N=8;N<G-8;N+=1){if(v[6][N]!=null){continue;}v[6][N]=(N%2==0);}};var C=function(){var S=h.getPatternPosition(x);for(var O=0;O<S.length;O+=1){for(var N=0;N<S.length;N+=1){var Q=S[O];var M=S[N];if(v[Q][M]!=null){continue;}for(var P=-2;P<=2;P+=1){for(var R=-2;R<=2;R+=1){if(P==-2||P==2||R==-2||R==2||(P==0&&R==0)){v[Q+P][M+R]=true;}else{v[Q+P][M+R]=false;}}}}}};var y=function(P){var O=h.getBCHTypeNumber(x);for(var N=0;N<18;N+=1){var M=(!P&&((O>>N)&1)==1);v[Math.floor(N/3)][N%3+G-8-3]=M;}for(var N=0;N<18;N+=1){var M=(!P&&((O>>N)&1)==1);v[N%3+G-8-3][Math.floor(N/3)]=M;}};var J=function(R,Q){var P=(z<<3)|Q;var O=h.getBCHTypeInfo(P);for(var N=0;N<15;N+=1){var M=(!R&&((O>>N)&1)==1);if(N<6){v[N][8]=M;}else{if(N<8){v[N+1][8]=M;}else{v[G-15+N][8]=M;}}}for(var N=0;N<15;N+=1){var M=(!R&&((O>>N)&1)==1);if(N<8){v[8][G-N-1]=M;}else{if(N<9){v[8][15-N-1+1]=M;}else{v[8][15-N-1]=M;}}}v[G-8][8]=(!R);};var F=function(R,N){var P=-1;var W=G-1;var Q=7;var M=0;var U=h.getMaskFunction(N);for(var O=G-1;O>0;O-=2){if(O==6){O-=1;}while(true){for(var T=0;T<2;T+=1){if(v[W][O-T]==null){var S=false;if(M<R.length){S=(((R[M]>>>Q)&1)==1);}var V=U(W,O-T);if(V){S=!S;}v[W][O-T]=S;Q-=1;if(Q==-1){M+=1;Q=7;}}}W+=P;if(W<0||G<=W){W-=P;P=-P;break;}}}};var I=function(W,Z){var O=0;var ac=0;var aa=0;var N=new Array(Z.length);var R=new Array(Z.length);for(var U=0;U<Z.length;U+=1){var V=Z[U].dataCount;var M=Z[U].totalCount-V;ac=Math.max(ac,V);aa=Math.max(aa,M);N[U]=new Array(V);for(var X=0;X<N[U].length;X+=1){N[U][X]=255&W.getBuffer()[X+O];}O+=V;var S=h.getErrorCorrectPolynomial(M);var ab=e(N[U],S.getLength()-1);var P=ab.mod(S);R[U]=new Array(S.getLength()-1);for(var X=0;X<R[U].length;X+=1){var T=X+P.getLength()-R[U].length;R[U][X]=(T>=0)?P.get(T):0;}}var Y=0;for(var X=0;X<Z.length;X+=1){Y+=Z[X].totalCount;}var ad=new Array(Y);var Q=0;for(var X=0;X<ac;X+=1){for(var U=0;U<Z.length;U+=1){if(X<N[U].length){ad[Q]=N[U][X];Q+=1;}}}for(var X=0;X<aa;X+=1){for(var U=0;U<Z.length;U+=1){if(X<R[U].length){ad[Q]=R[U][X];Q+=1;}}}return ad;};var u=function(T,S,P){var N=g.getRSBlocks(T,S);var M=f();for(var O=0;O<P.length;O+=1){var R=P[O];M.put(R.getMode(),4);M.put(R.getLength(),h.getLengthInBits(R.getMode(),T));R.write(M);}var Q=0;for(var O=0;O<N.length;O+=1){Q+=N[O].dataCount;}if(M.getLengthInBits()>Q*8){throw new Error("code length overflow. ("+M.getLengthInBits()+">"+Q*8+")");}if(M.getLengthInBits()+4<=Q*8){M.put(0,4);}while(M.getLengthInBits()%8!=0){M.putBit(false);}while(true){if(M.getLengthInBits()>=Q*8){break;}M.put(L,8);if(M.getLengthInBits()>=Q*8){break;}M.put(K,8);}return I(M,N);};H.addData=function(N){var M=m(N);B.push(M);q=null;};H.isDark=function(N,M){if(N<0||G<=N||M<0||G<=M){throw new Error(N+","+M);}return v[N][M];};H.getModuleCount=function(){return G;};H.make=function(){E(false,w());};H.createTableTag=function(Q,O){Q=Q||2;O=(typeof O=="undefined")?Q*4:O;var M="";M+='<table style="';M+=" border-width: 0px; border-style: none;";M+=" border-collapse: collapse;";M+=" padding: 0px; margin: "+O+"px;";M+='">';M+="<tbody>";for(var N=0;N<H.getModuleCount();N+=1){M+="<tr>";for(var P=0;P<H.getModuleCount();P+=1){M+='<td style="';M+=" border-width: 0px; border-style: none;";M+=" border-collapse: collapse;";M+=" padding: 0px; margin: 0px;";M+=" width: "+Q+"px;";M+=" height: "+Q+"px;";M+=" background-color: ";M+=H.isDark(N,P)?"#000000":"#ffffff";M+=";";M+='"/>';}M+="</tr>";}M+="</tbody>";M+="</table>";return M;};H.createImgTag=function(Q,P){Q=Q||2;P=(typeof P=="undefined")?Q*4:P;var O=H.getModuleCount()*Q+P*2;var N=P;var M=O-P;return d(O,O,function(R,U){if(N<=R&&R<M&&N<=U&&U<M){var T=Math.floor((R-N)/Q);var S=Math.floor((U-N)/Q);return H.isDark(S,T)?0:1;}else{return 1;}});};H.createBase64=function(Q,P){Q=Q||2;P=(typeof P=="undefined")?Q*4:P;var O=H.getModuleCount()*Q+P*2;var N=P;var M=O-P;return[o(O,O,function(R,U){if(N<=R&&R<M&&N<=U&&U<M){var T=Math.floor((R-N)/Q);var S=Math.floor((U-N)/Q);return H.isDark(S,T)?0:1;}else{return 1;}}),O];};return H;};n.stringToBytes=function(u){var q=new Array();for(var t=0;t<u.length;t+=1){var v=u.charCodeAt(t);q.push(v&255);}return q;};n.createStringToBytes=function(u,t){var s=function(){var F=a(u);var w=function(){var v=F.read();if(v==-1){throw new Error();}return v;};var y=0;var z={};while(true){var D=F.read();if(D==-1){break;}var C=w();var B=w();var A=w();var x=String.fromCharCode((D<<8)|C);var E=(B<<8)|A;z[x]=E;y+=1;}if(y!=t){throw new Error(y+" != "+t);}return z;}();var q="?".charCodeAt(0);return function(y){var w=new Array();for(var x=0;x<y.length;x+=1){var z=y.charCodeAt(x);if(z<128){w.push(z);}else{var v=s[y.charAt(x)];if(typeof v=="number"){if((v&255)==v){w.push(v);}else{w.push(v>>>8);w.push(v&255);}}else{w.push(q);}}}return w;};};var j={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var i={L:1,M:0,Q:3,H:2};var c={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var h=function(){var u=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]];var q=(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0);var w=(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0);var t=(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1);var v={};var s=function(x){var y=0;while(x!=0){y+=1;x>>>=1;}return y;};v.getBCHTypeInfo=function(x){var y=x<<10;while(s(y)-s(q)>=0){y^=(q<<(s(y)-s(q)));}return((x<<10)|y)^t;};v.getBCHTypeNumber=function(x){var y=x<<12;while(s(y)-s(w)>=0){y^=(w<<(s(y)-s(w)));}return(x<<12)|y;};v.getPatternPosition=function(x){return u[x-1];};v.getMaskFunction=function(x){switch(x){case c.PATTERN000:return function(z,y){return(z+y)%2==0;};case c.PATTERN001:return function(z,y){return z%2==0;};case c.PATTERN010:return function(z,y){return y%3==0;};case c.PATTERN011:return function(z,y){return(z+y)%3==0;};case c.PATTERN100:return function(z,y){return(Math.floor(z/2)+Math.floor(y/3))%2==0;};case c.PATTERN101:return function(z,y){return(z*y)%2+(z*y)%3==0;};case c.PATTERN110:return function(z,y){return((z*y)%2+(z*y)%3)%2==0;};case c.PATTERN111:return function(z,y){return((z*y)%3+(z+y)%2)%2==0;};default:throw new Error("bad maskPattern:"+x);}};v.getErrorCorrectPolynomial=function(y){var x=e([1],0);for(var z=0;z<y;z+=1){x=x.multiply(e([1,p.gexp(z)],0));}return x;};v.getLengthInBits=function(y,x){if(1<=x&&x<10){switch(y){case j.MODE_NUMBER:return 10;case j.MODE_ALPHA_NUM:return 9;case j.MODE_8BIT_BYTE:return 8;case j.MODE_KANJI:return 8;default:throw new Error("mode:"+y);}}else{if(x<27){switch(y){case j.MODE_NUMBER:return 12;case j.MODE_ALPHA_NUM:return 11;case j.MODE_8BIT_BYTE:return 16;case j.MODE_KANJI:return 10;default:throw new Error("mode:"+y);}}else{if(x<41){switch(y){case j.MODE_NUMBER:return 14;case j.MODE_ALPHA_NUM:return 13;case j.MODE_8BIT_BYTE:return 16;case j.MODE_KANJI:return 12;default:throw new Error("mode:"+y);}}else{throw new Error("type:"+x);}}}};v.getLostPoint=function(G){var z=G.getModuleCount();var A=0;for(var I=0;I<z;I+=1){for(var y=0;y<z;y+=1){var F=0;var E=G.isDark(I,y);for(var x=-1;x<=1;x+=1){if(I+x<0||z<=I+x){continue;}for(var D=-1;D<=1;D+=1){if(y+D<0||z<=y+D){continue;}if(x==0&&D==0){continue;}if(E==G.isDark(I+x,y+D)){F+=1;}}}if(F>5){A+=(3+F-5);}}}for(var I=0;I<z-1;I+=1){for(var y=0;y<z-1;y+=1){var B=0;if(G.isDark(I,y)){B+=1;}if(G.isDark(I+1,y)){B+=1;}if(G.isDark(I,y+1)){B+=1;}if(G.isDark(I+1,y+1)){B+=1;}if(B==0||B==4){A+=3;}}}for(var I=0;I<z;I+=1){for(var y=0;y<z-6;y+=1){if(G.isDark(I,y)&&!G.isDark(I,y+1)&&G.isDark(I,y+2)&&G.isDark(I,y+3)&&G.isDark(I,y+4)&&!G.isDark(I,y+5)&&G.isDark(I,y+6)){A+=40;}}}for(var y=0;y<z;y+=1){for(var I=0;I<z-6;I+=1){if(G.isDark(I,y)&&!G.isDark(I+1,y)&&G.isDark(I+2,y)&&G.isDark(I+3,y)&&G.isDark(I+4,y)&&!G.isDark(I+5,y)&&G.isDark(I+6,y)){A+=40;}}}var H=0;for(var y=0;y<z;y+=1){for(var I=0;I<z;I+=1){if(G.isDark(I,y)){H+=1;}}}var C=Math.abs(100*H/z/z-50)/5;A+=C*10;return A;};return v;}();var p=function(){var q=new Array(256);var t=new Array(256);for(var s=0;s<8;s+=1){q[s]=1<<s;}for(var s=8;s<256;s+=1){q[s]=q[s-4]^q[s-5]^q[s-6]^q[s-8];}for(var s=0;s<255;s+=1){t[q[s]]=s;}var u={};u.glog=function(v){if(v<1){throw new Error("glog("+v+")");}return t[v];};u.gexp=function(v){while(v<0){v+=255;}while(v>=256){v-=255;}return q[v];};return u;}();function e(s,q){if(typeof s.length=="undefined"){throw new Error(s.length+"/"+q);}var t=function(){var x=0;while(x<s.length&&s[x]==0){x+=1;}var w=new Array(s.length-x+q);for(var v=0;v<s.length-x;v+=1){w[v]=s[v+x];}return w;}();var u={};u.get=function(v){return t[v];};u.getLength=function(){return t.length;};u.multiply=function(y){var w=new Array(u.getLength()+y.getLength()-1);for(var x=0;x<u.getLength();x+=1){for(var v=0;v<y.getLength();v+=1){w[x+v]^=p.gexp(p.glog(u.get(x))+p.glog(y.get(v)));}}return e(w,0);};u.mod=function(y){if(u.getLength()-y.getLength()<0){return u;}var x=p.glog(u.get(0))-p.glog(y.get(0));var v=new Array(u.getLength());for(var w=0;w<u.getLength();w+=1){v[w]=u.get(w);}for(var w=0;w<y.getLength();w+=1){v[w]^=p.gexp(p.glog(y.get(w))+x);}return e(v,0).mod(y);};return u;}var g=function(){var s=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16]];var q=function(v,w){var x={};x.totalCount=v;x.dataCount=w;return x;};var u={};var t=function(w,v){switch(v){case i.L:return s[(w-1)*4+0];case i.M:return s[(w-1)*4+1];case i.Q:return s[(w-1)*4+2];case i.H:return s[(w-1)*4+3];default:return undefined;}};u.getRSBlocks=function(x,D){var w=t(x,D);if(typeof w=="undefined"){throw new Error("bad rs block @ typeNumber:"+x+"/errorCorrectLevel:"+D);}var v=w.length/3;var B=new Array();for(var z=0;z<v;z+=1){var A=w[z*3+0];var E=w[z*3+1];var C=w[z*3+2];for(var y=0;y<A;y+=1){B.push(q(E,C));}}return B;};return u;}();var f=function(){var q=new Array();var t=0;var s={};s.getBuffer=function(){return q;};s.get=function(u){var v=Math.floor(u/8);return((q[v]>>>(7-u%8))&1)==1;};s.put=function(u,w){for(var v=0;v<w;v+=1){s.putBit(((u>>>(w-v-1))&1)==1);}};s.getLengthInBits=function(){return t;};s.putBit=function(v){var u=Math.floor(t/8);if(q.length<=u){q.push(0);}if(v){q[u]|=(128>>>(t%8));}t+=1;};return s;};var m=function(u){var t=j.MODE_8BIT_BYTE;var q=u;var s=n.stringToBytes(u);var v={};v.getMode=function(){return t;};v.getLength=function(w){return s.length;};v.write=function(w){for(var x=0;x<s.length;x+=1){w.put(s[x],8);}};return v;};var k=function(){var q=new Array();var s={};s.writeByte=function(t){q.push(t&255);};s.writeShort=function(t){s.writeByte(t);s.writeByte(t>>>8);};s.writeBytes=function(u,w,t){w=w||0;t=t||u.length;for(var v=0;v<t;v+=1){s.writeByte(u[v+w]);}};s.writeString=function(u){for(var t=0;t<u.length;t+=1){s.writeByte(u.charCodeAt(t));}};s.toByteArray=function(){return q;};s.toString=function(){var u="";u+="[";for(var t=0;t<q.length;t+=1){if(t>0){u+=",";}u+=q[t];}u+="]";return u;};return s;};var b=function(){var s=0;var v=0;var x=0;var q="";var w={};var u=function(y){q+=String.fromCharCode(t(y&63));};var t=function(y){if(y<0){}else{if(y<26){return 65+y;}else{if(y<52){return 97+(y-26);}else{if(y<62){return 48+(y-52);}else{if(y==62){return 43;}else{if(y==63){return 47;}}}}}}throw new Error("n:"+y);};w.writeByte=function(y){s=(s<<8)|(y&255);v+=8;x+=1;while(v>=6){u(s>>>(v-6));v-=6;}};w.flush=function(){if(v>0){u(s<<(6-v));s=0;v=0;}if(x%3!=0){var z=3-x%3;for(var y=0;y<z;y+=1){q+="=";}}};w.toString=function(){return q;};return w;};var a=function(v){var x=v;var q=0;var s=0;var t=0;var w={};w.read=function(){while(t<8){if(q>=x.length){if(t==0){return -1;}throw new Error("unexpected end of file./"+t);}var z=x.charAt(q);q+=1;if(z=="="){t=0;return -1;}else{if(z.match(/^\s$/)){continue;}}s=(s<<6)|u(z.charCodeAt(0));t+=6;}var y=(s>>>(t-8))&255;t-=8;return y;};var u=function(y){if(65<=y&&y<=90){return y-65;}else{if(97<=y&&y<=122){return y-97+26;}else{if(48<=y&&y<=57){return y-48+52;}else{if(y==43){return 62;}else{if(y==47){return 63;}else{throw new Error("c:"+y);}}}}}};return w;};var l=function(q,y){var u=q;var v=y;var s=new Array(q*y);var w={};w.setPixel=function(A,C,B){s[C*u+A]=B;};w.write=function(B){B.writeString("GIF87a");B.writeShort(u);B.writeShort(v);B.writeByte(128);B.writeByte(0);B.writeByte(0);B.writeByte(0);B.writeByte(0);B.writeByte(0);B.writeByte(255);B.writeByte(255);B.writeByte(255);B.writeString(",");B.writeShort(0);B.writeShort(0);B.writeShort(u);B.writeShort(v);B.writeByte(0);var C=2;var A=t(C);B.writeByte(C);var D=0;while(A.length-D>255){B.writeByte(255);B.writeBytes(A,D,255);D+=255;}B.writeByte(A.length-D);B.writeBytes(A,D,A.length-D);B.writeByte(0);B.writeString(";");};var x=function(B){var C=B;var D=0;var A=0;var E={};E.write=function(G,F){if((G>>>F)!=0){throw new Error("length over");}while(D+F>=8){C.writeByte(255&((G<<D)|A));F-=(8-D);G>>>=(8-D);A=0;D=0;}A=(G<<D)|A;D=D+F;};E.flush=function(){if(D>0){C.writeByte(A);}};return E;};var t=function(B){var F=1<<B;var D=(1<<B)+1;var H=B+1;var J=z();for(var E=0;E<F;E+=1){J.add(String.fromCharCode(E));}J.add(String.fromCharCode(F));J.add(String.fromCharCode(D));var C=k();var A=x(C);A.write(F,H);var I=0;var K=String.fromCharCode(s[I]);I+=1;while(I<s.length){var G=String.fromCharCode(s[I]);I+=1;if(J.contains(K+G)){K=K+G;}else{A.write(J.indexOf(K),H);if(J.size()<4095){if(J.size()==(1<<H)){H+=1;}J.add(K+G);}K=G;}}A.write(J.indexOf(K),H);A.write(D,H);A.flush();return C.toByteArray();};var z=function(){var B={};var A=0;var C={};C.add=function(D){if(C.contains(D)){throw new Error("dup key:"+D);}B[D]=A;A+=1;};C.size=function(){return A;};C.indexOf=function(D){return B[D];};C.contains=function(D){return typeof B[D]!="undefined";};return C;};return w;};var o=function(q,C,w){var u=l(q,C);for(var z=0;z<C;z+=1){for(var B=0;B<q;B+=1){u.setPixel(B,z,w(B,z));}}var A=k();u.write(A);var v=b();var D=A.toByteArray();for(var t=0;t<D.length;t+=1){v.writeByte(D[t]);}v.flush();var s="";s+="data:image/gif;base64,";s+=v;return s;};var d=function(u,q,w,v){var s=o(u,q,w);var t="";t+="<img";t+='\u0020src="';t+=s;t+='"';t+='\u0020width="';t+=u;t+='"';t+='\u0020height="';t+=q;t+='"';if(v){t+='\u0020alt="';t+=v;t+='"';}t+="/>";return t;};return n;}();(function(){var a=window.PhoneGap||window.Cordova||window.cordova;BarcodeScanner=function(){};BarcodeScanner.Encode={TEXT_TYPE:"TEXT_TYPE",EMAIL_TYPE:"EMAIL_TYPE",PHONE_TYPE:"PHONE_TYPE",SMS_TYPE:"SMS_TYPE",CONTACT_TYPE:"CONTACT_TYPE",LOCATION_TYPE:"LOCATION_TYPE"};BarcodeScanner.prototype.scan=function(e,b,c){function d(f){f.cancelled=(f.cancelled==1);e.call(null,f);}if(!b){b=function(){};}if(typeof b!="function"){console.log("BarcodeScanner.scan failure: failure parameter not a function");return;}if(typeof e!="function"){b("success callback parameter must be a function");return;}if(null==c){c=[];}a.exec(d,b,"BarCodeScanner","scan",c);};BarcodeScanner.prototype.encode=function(d,e,f,b,c){if(!b){b=function(){};}if(typeof b!="function"){console.log("BarcodeScanner.scan failure: failure parameter not a function");return;}if(typeof f!="function"){b("success callback parameter must be a function");return;}return a.exec(f,b,"BarCodeScanner","encode",[{type:d,data:e,options:c}]);};a.addConstructor(function(){if(!window.plugins){window.plugins={};}window.plugins.barcodeScanner=new BarcodeScanner();});})();(function(){var a=window.PhoneGap||window.Cordova||window.cordova;QRCodeReader=function(){};QRCodeReader.ErrorResultType={Cancelled:0,Failed:1,Success:2};QRCodeReader.prototype.scanType="Default";QRCodeReader.prototype.getCode=function(b,c,d){if(typeof b!="function"){console.log("QRCodeReader Error: successCallback is not a function");return;}if(c&&(typeof c!="function")){console.log("QRCodeReader Error: errorCallback is not a function");return;}console.log("ScanType is ["+this.scanType+"]");switch(this.scanType){case"RL":case"Nigma":a.exec(b,c,"QRCodeReader"+this.scanType,"getCode",[]);break;case"Default":window.plugins.barcodeScanner.scan(b,c,d);break;default:a.exec(b,c,"QRCodeReaderRL","getCode",[]);break;}};QRCodeReader.prototype._didNotFinishWithResult=function(b){console.log("ErrorCode = "+b);pluginResult.message=b;return pluginResult;};QRCodeReader.prototype._didFinishWithResult=function(c){var b={response:decodeURIComponent(c.message.response)};c.message=b;return c;};a.addConstructor(function(){if(!window.plugins){window.plugins={};}window.plugins.qrCodeReader=new QRCodeReader();});})();function EmailComposer(){this.resultCallback=null;}EmailComposer.ComposeResultType={Cancelled:0,Saved:1,Sent:2,Failed:3,NotSent:4};EmailComposer.prototype.showEmailComposer=function(e,b,h,g,f,c,a){var d={};if(h){d.toRecipients=h;}if(g){d.ccRecipients=g;}if(f){d.bccRecipients=f;}if(e){d.subject=e;}if(b){d.body=b;}if(c){d.bIsHTML=c;}if(a){d.images=a;}cordova.exec(null,null,"EmailComposer","showEmailComposer",[d]);};EmailComposer.prototype.showEmailComposerWithCB=function(e,d,b,h,g,f,c,a){this.resultCallback=e;this.showEmailComposer.apply(this,[d,b,h,g,f,c,a]);};EmailComposer.prototype._didFinishWithResult=function(a){this.resultCallback(a);};cordova.addConstructor(function(){if(!window.plugins){window.plugins={};}if(!window.Cordova){window.Cordova=cordova;}window.plugins.emailComposer=new EmailComposer();});var LowLatencyAudio={preloadFX:function(d,b,c,a){return cordova.exec(c,a,"LowLatencyAudio","preloadFX",[d,b]);},preloadAudio:function(e,c,b,d,a){return cordova.exec(d,a,"LowLatencyAudio","preloadAudio",[e,c,b]);},play:function(c,b,a){return cordova.exec(b,a,"LowLatencyAudio","play",[c]);},stop:function(c,b,a){return cordova.exec(b,a,"LowLatencyAudio","stop",[c]);},loop:function(c,b,a){return cordova.exec(b,a,"LowLatencyAudio","loop",[c]);},unload:function(c,b,a){return cordova.exec(b,a,"LowLatencyAudio","unload",[c]);}};(function(b){function a(){}a.prototype.registerDevice=function(d,e,c){b.exec(e,c,"PushNotification","registerDevice",d?[d]:[]);};a.prototype.getRemoteNotificationStatus=function(c){b.exec(c,c,"PushNotification","getRemoteNotificationStatus",[]);};a.prototype.setApplicationIconBadgeNumber=function(c,d){b.exec(d,d,"PushNotification","setApplicationIconBadgeNumber",[{badge:c}]);};a.prototype.cancelAllLocalNotifications=function(c){b.exec(c,c,"PushNotification","cancelAllLocalNotifications",[]);};a.prototype.notificationCallback=function(d){var c=document.createEvent("HTMLEvents");c.notification=d;c.initEvent("push-notification",true,true,arguments);document.dispatchEvent(c);};b.addConstructor(function(){if(!window.plugins){window.plugins={};}window.plugins.pushNotification=new a();});})(window.cordova||window.Cordova||window.PhoneGap);Ext.ns("Genesis.constants");Genesis.constants={host:"http://www.getkickbak.com",themeName:"v1",sign_in_path:"/sign_in",sign_out_path:"/sign_out",site:"www.getkickbak.com",debugVPrivKey:"5B2PuTj1C5kiJBFpR2kd8l7iGFLyb34z",debugRPrivKey:"5B2PuTj1C5kiJBFpR2kd8l7iGFLyb34z",redeemDBSize:10000,createAccountMsg:"Create user account using Facebook Profile information",isNative:function(){return phoneGapAvailable;},addCRLF:function(){return((!this.isNative())?"<br/>":"\n");},getIconPath:function(b,a){return"resources/themes/images/"+this.themeName+"/"+b+"/"+a+".png";},getPrivKey:function(d){var c=this;if(!c.privKey){if(c.isNative()){var a=function(f){var g={};g[FileError.NOT_FOUND_ERR]="File not found";g[FileError.SECURITY_ERR]="Security error";g[FileError.ABORT_ERR]="Abort error";g[FileError.NOT_READABLE_ERR]="Not readable";g[FileError.ENCODING_ERR]="Encoding error";g[FileError.NO_MODIFICATION_ALLOWED_ERR]="No mobification allowed";g[FileError.INVALID_STATE_ERR]="Invalid state";g[FileError.SYFNTAX_ERR]="Syntax error";g[FileError.INVALID_MODIFICATION_ERR]="Invalid modification";g[FileError.QUOTA_EXCEEDED_ERR]="Quota exceeded";g[FileError.TYPE_MISMATCH_ERR]="Type mismatch";g[FileError.PATH_EXISTS_ERR]="Path does not exist";var e={};e[FileTransferError.FILE_NOT_FOUND_ERR]="File not found";e[FileTransferError.INVALID_URL_ERR]="Invalid URL Error";e[FileTransferError.CONNECTION_ERR]="Connection Error";console.log("Reading License File Error - ["+g[f.code]+"]");};window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(f){var e=f.root.fullPath+"/../"+appName+".app/www/resources/keys.txt";console.debug("License File - ["+e+"]");f.root.getFile(e,null,function(g){g.file(function(i){var h=new FileReader();h.onloadend=function(j){c.privKey=Ext.decode(j.target.result);for(var k in c.privKey){console.debug("Encryption Key["+k+"] = ["+c.privKey[k]+"]");}};h.readAsText(i);},a);},a);},a);return null;}else{c.privKey={v1:c.debugVPrivKey,r1:c.debugRPrivKey};for(var b in c.privKey){console.debug("Encryption Key["+b+"] = ["+c.privKey[b]+"]");}}}return(d)?[c.privKey["v"+d],c.privKey["r"+d]]:c.privKey;}};Genesis.fb={fbScope:"email,user_birthday,publish_stream,read_friendlists,publish_actions,offline_access",fbConnectErrorMsg:"Cannot retrive Facebook account information!",fbConnectReqestMsg:"Would you like to update friends on Facebook?",connectingToFBMsg:"Connecting to Facebook ...",friendsRetrieveErrorMsg:"You cannot retrieve your Friends List from Facebook. Login and Try Again.",initFb:function(){var b=this;Genesis.db.removeLocalDBAttrib("fbExpiresIn");var a=Genesis.db.getLocalDB();if(typeof(FB)!="undefined"){FB.Event.monitor("auth.authResponseChange",function(d){if(d&&(d.status!="not_authorized")&&(d.status!="notConnected")){console.log("Got FB user's session: "+d.status);var c=d.authResponse.accessToken;if(c){a.fbExpiresIn=Date.now()+(1000*d.authResponse.expiresIn);a.fbAuthCode=c;Genesis.db.setLocalDB(a);if(b.cb){b.facebook_loginCallback(b.cb);delete b.cb;}}else{b.facebook_onLogout(null,false);}}else{if((d===undefined)||(d&&d.status=="not_authorized")){if(d){b.facebook_onLogout(null,(d)?true:false);}}}});}},getFriendsList:function(e){var b="id";var a="name";var d=this;var c=function(f){return"We found "+f+" Friends from your social network!";};FB.api("/me/friends&fields="+a+","+b,function(f){var j="";d.friendsList=[];if(f&&f.data&&(f.data.length>0)){var h=f.data;for(var g=0;g<h.length;g++){if(h[g][b]!=Genesis.db.getLocalDB()["currFbId"]){d.friendsList.push({label:h[g][a],value:h[g][b]});j+=((j.length>0)?",":"")+h[g][b];}}d.friendsList.sort(function(k,i){return k[b]-i[b];});console.log(c(d.friendsList.length));}else{Ext.device.Notification.show({title:"Facebook Connect",message:d.friendsRetrieveErrorMsg,buttons:["Relogin","Cancel"],callback:function(i){if(i=="Relogin"){d.facebook_onLogout(function(){d.fbLogin(cb,false);},true);}else{}}});}});},createFbResponse:function(a){var b=a.birthday.split("/");b=b[2]+"-"+b[0]+"-"+b[1];var c={name:a.name,email:a.email,facebook_email:a.email,facebook_id:a.id,facebook_uid:a.username,gender:(a.gender=="male")?"m":"f",birthday:b,photoURL:"http://graph.facebook.com/"+a.id+"/picture?type=square"};return c;},fbLogin:function(a,c){var b=this;b.cb=a||Ext.emptyFn;FB.login(function(d){if(d&&(d.status=="connected")&&d.authResponse){console.debug("Logged into Facebook!");Genesis.db.setLocalDBAttrib("fbExpiresIn",Date.now()+(1000*d.authResponse.expiresIn));if(b.cb){b.facebook_loginCallback(b.cb);delete b.cb;}}else{console.debug("Login Failed! ...");Genesis.db.removeLocalDBAttrib("fbExpiresIn");if(!c){Ext.Viewport.setMasked(false);Ext.device.Notification.show({title:"Facebook Connect",message:b.fbConnectErrorMsg,buttons:["Try Again","Continue"],callback:function(e){if(e.toLowerCase()=="try again"){Ext.defer(b.fbLogin,3*1000,b,[a,c]);}else{Ext.Viewport.setMasked(false);delete b.cb;}}});}}},{scope:b.fbScope});},facebook_onLogin:function(a,f,e){var d=this;a=a||Ext.emptyFn;var g=function(){if(!f){Ext.device.Notification.show({title:"Facebook Connect",message:e||d.fbConnectReqestMsg,buttons:["OK","Cancel"],callback:function(h){if(h.toLowerCase()=="ok"){Ext.Viewport.setMasked({xtype:"loadmask",message:d.connectingToFBMsg});d.fbLogin(a,f);}}});}else{d.fbLogin(a,f);}};var b=Genesis.db.getLocalDB();var c=(b.currFbId>0);console.debug("facebook_onLogin - FbId = ["+b.currFbId+"], refreshConn = "+c);if(c){FB.getLoginStatus(function(h){if((h.status=="connected")&&h.authResponse){var i=(!b.fbExpiresIn)?0:new Date(b.fbExpiresIn).getTime();b.fbAuthCode=h.authResponse.authToken;console.debug("FB ExpiryDate TimeStamp = "+Date(i));console.debug("Already Logged into Facebook, bypass permission request.");b.fbExpiresIn=Date.now()+(1000*h.authResponse.expiresIn);Genesis.db.setLocalDB(b);a(b.fbResponse);}else{g();}});}else{g();}},facebook_loginCallback:function(a,c){var b=this;console.debug("Retrieving Facebook profile information ...");c=c||0;a=a||Ext.emptyFn;FB.api("/me",function(e){if(!e.error){var d=Genesis.db.getLocalDB();var f=e.id;if(d.currFbId==f){console.debug("Session information same as previous session["+f+"]");}else{console.debug("Session ID["+f+"]");}d.currFbId=f;d.fbAccountId=e.email;var g=d.fbResponse=b.createFbResponse(e);Genesis.db.setLocalDB(d);console.debug("You`ve logged into Facebook! \nEmail("+d.fbAccountId+")\nID("+f+")\n");b._fb_connect();if(a){Ext.defer(a,1,b,[g]);}}else{b.facebook_onLogout(null,false);}});},_fb_connect:function(){},_fb_disconnect:function(){this._fb_connect();},facebook_onLogout:function(a,c){var d=this;var b=Genesis.db.getLocalDB();a=a||Ext.emptyFn;d._fb_disconnect();b.currFbId=0;delete b.fbAccountId;delete b.fbResponse;delete b.fbAuthCode;delete b.fbExpiresIn;Genesis.db.setLocalDB(b);Ext.Viewport.setMasked(false);try{if(c){FB.logout(function(e){a();});}else{a();}}catch(f){a();}}};Genesis.fn={weekday:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],convertDateCommon:function(d,a,h){var e;var g=a||this.dateFormat;if(!(d instanceof Date)){if(typeof(JSON)!="undefined"){}if(Ext.isEmpty(d)){e=new Date();}else{if(g){e=Date.parse(d,g);if(Ext.isEmpty(e)){e=new Date(d).format(g);}return[e,e];}e=new Date(d);if(e.toString()=="Invalid Date"){e=Date.parse(d,g);}}}else{e=d;}if(!h){var c=new Date().getTime();var f=Genesis.fn.currentDateTime(c);var b=(f-e.getTime())/1000;if(b>-10){if((b)<2){return[b,"a second ago"];}if((b)<60){return[b,parseInt(b)+" secs ago"];}b=b/60;if((b)<2){return[b,"a minute ago"];}if((b)<60){return[b,parseInt(b)+" minutes ago"];}b=b/60;if((b)<2){return[e,"an hour ago"];}if((b)<24){return[e,parseInt(b)+" hours ago"];}b=b/24;if(((b)<2)&&((new Date().getDay()-e.getDay())==1)){return[e,"Yesterday at "+e.format("g:i A")];}if((b)<7){return[e,Genesis.fn.weekday[e.getDay()]+" at "+e.format("g:i A")];}b=b/7;if(((b)<2)&&(b%7==0)){return[e,"a week ago"];}if(((b)<5)&&(b%7==0)){return[e,parseInt(b)+" weeks ago"];}if(b<5){return[e,parseInt(b*7)+" days ago"];}return[e,null];}else{}}return[e,-1];},convertDateFullTime:function(a){return a.format("D, M d, Y \\a\\t g:i A");},convertDateReminder:function(c){var b=new Date();var a=b.getDate();var g=b.getMonth();var e=b.getFullYear();var d=c.getDate();var h=c.getMonth();var f=c.getFullYear();if(a==d&&g==h&&e==f){return"Today "+c.format("g:i A");}return c.format("D g:i A");},convertDate:function(b,a){var c=Genesis.fn.convertDateCommon.call(this,b,a);if(c[1]!=-1){return(c[1]==null)?c[0].format("M d, Y"):c[1];}else{return c[0].format("D, M d, Y \\a\\t g:i A");}},convertDateNoTime:function(a){var b=Genesis.fn.convertDateCommon.call(this,a,null,true);if(b[1]!=-1){return(b[1]==null)?b[0].format("D, M d, Y"):b[1];}else{return b[0].format("D, M d, Y");}},convertDateNoTimeNoWeek:function(a){var b=Genesis.fn.convertDateCommon.call(this,a,null,true);if(b[1]!=-1){b=(b[1]==null)?b[0].format("M d, Y"):b[1];}else{b=b[0].format("M d, Y");}return b;},convertDateInMins:function(a){var b=Genesis.fn.convertDateCommon.call(this,a,null,true);if(b[1]!=-1){return(b[1]==null)?b[0].format("h:ia T"):b[1];}else{return b[0].format("h:ia T");}},currentDateTime:function(a){return systemTime+(a-clientTime);},addUnit:function(a){return a+"px";},_removeUnitRegex:/(\d+)px/,removeUnit:function(a){return a.match(this._removeUnitRegex)[1];}};Genesis.db={getLocalStorage:function(){return window.localStorage;},getRedeemIndexDB:function(a){try{if(!this.kickbakRedeemIndex){this.kickbakRedeemIndex=Ext.decode(this.getLocalStorage().getItem("kickbakRedeemIndex"));}}catch(b){}if(!this.kickbakRedeemIndex){this.kickbakRedeemIndex={};}return(a?this.kickbakRedeemIndex[a]:this.kickbakRedeemIndex);},addRedeemIndexDB:function(b,c){var a=this.getRedeemIndexDB();a[b]=c;console.debug("Add to KickBak Redeem DB["+b+"]");},setRedeemIndexDB:function(a){},getRedeemSortedDB:function(a){try{if(!this.kickbakRedeemSorted){this.kickbakRedeemSorted=Ext.decode(this.getLocalStorage().getItem("kickbakRedeemSorted"));}}catch(b){}if(!this.kickbakRedeemSorted){this.kickbakRedeemSorted=[];}return(a?this.kickbakRedeemSorted[a]:this.kickbakRedeemSorted);},addRedeemSortedDB:function(a){var b=this.getRedeemSortedDB();if(b.length>=this.redeemDBSize){console.debug("Database Entry is full, discarded oldest Entry with timestamp ("+Date(b[0][1])+")");b=b.splice(0,1);}else{b.currCount=(Ext.isDefined(b.currCount))?(b.currCount+1):0;}b.push(a);b=Ext.Array.sort(b,function(d,c){return(d[1]-c[1]);});this.setRedeemSortedDB(b);},setRedeemSortedDB:function(a){},redeemDBSync:function(){var a=this.getLocalStorage();a.setItem("kickbakRedeemSorted",Ext.encode(this.kickbakRedeemSorted));a.setItem("kickbakRedeemIndex",Ext.encode(this.kickbakRedeemIndex));},redeemDBCleanup:function(){console.log("================================");console.log("Redeem Database has been Started");console.log("================================");var b=Date.now();var d=this.getRedeemIndexDB();var e=this.getRedeemSortedDB();var c=0;var a=e.currCount||-1;console.debug("currCount = "+a);while((a>=0)&&(e.length>0)){if(e[0][1]>b){c++;a--;delete d[e[0]];e=e.splice(0,1);e.currCount=a;}else{break;}}Genesis.db.redeemDBSync();console.debug("currCount = "+e.currCount+", total = "+c);console.log("=================================");console.log("Redeem Database has been resetted");console.log("=================================");},getLocalDB:function(){var a=this.getLocalStorage().getItem("kickbak");return((a)?Ext.decode(a):{});},setLocalDB:function(a){console.debug("Setting KickBak DB["+Ext.encode(a)+"]");this.getLocalStorage().setItem("kickbak",Ext.encode(a));},setLocalDBAttrib:function(c,b){console.debug("Setting KickBak Attrib["+c+"] to ["+b+"]");var a=this.getLocalDB();a[c]=b;this.setLocalDB(a);},removeLocalDBAttrib:function(b){var a=this.getLocalDB();delete a[b];this.setLocalDB(a);},getReferralDBAttrib:function(b){var a=this.getReferralDB();return a[b];},addReferralDBAttrib:function(b,c){var a=this.getReferralDB();a[b]=c;this.setReferralDB(a);},removeReferralDBAttrib:function(b){var a=this.getReferralDB();delete a[b];this.setReferralDB(a);},getReferralDB:function(){var a=this.getLocalStorage().getItem("kickbakreferral");return((a)?Ext.decode(a):{});},setReferralDB:function(a){console.debug("Setting Referral DB["+Ext.encode(a)+"]");this.getLocalStorage().setItem("kickbakreferral",Ext.encode(a));},resetStorage:function(){Genesis.fb.facebook_onLogout(null,false);this.removeLocalDBAttrib("auth_code");var a=this.getLocalStorage();for(var b in a){if(b!="kickbak"){try{a.removeItem(b);}catch(c){}}}}};Ext.define("Genesis.dom.Element",{override:"Ext.dom.Element",setMargin:function(b,a){if(b||b===0){b=this.self.unitizeBox((b===true)?5:b,a);}else{b=null;}this.dom.style.margin=b;},setPadding:function(b,a){if(b||b===0){b=this.self.unitizeBox((b===true)?5:b,a);}else{b=null;}this.dom.style.padding=b;},});Ext.define("Genesis.Component",{override:"Ext.Component",updatePadding:function(a){this.innerElement.setPadding(a,this.getInitialConfig().defaultUnit);},updateMargin:function(a){this.element.setMargin(a,this.getInitialConfig().defaultUnit);}});Ext.define("Genesis.util.Collection",{override:"Ext.util.Collection",clear:function(){this.callParent(arguments);this.indices={};}});Ext.define("Genesis.data.reader.Json",{override:"Ext.data.reader.Json",getResponseData:function(a){var b=this.callParent(arguments);if(!b.metaData){delete this.metaData;}return b;}});Ext.define("Genesis.data.proxy.OfflineServer",{override:"Ext.data.proxy.Server",processResponse:function(n,c,f,d,m,o){var k=this,b=c.getAction(),h=k.getReader(),l;var a=_application;var j=a.getController("Viewport");var g=function(){var p=((l&&Ext.isDefined(l.getMessage))?(Ext.isArray(l.getMessage())?l.getMessage().join(Genesis.constants.addCRLF()):l.getMessage()):"Error Connecting to Server");var e=h.metaData||{};Ext.Viewport.setMasked(false);switch(e.rescode){case"server_error":Ext.device.Notification.show({title:"Server Error(s)",message:p,callback:function(){if(e.session_timeout){Genesis.db.removeLocalDBAttrib("auth_code");j.setLoggedIn(false);j.fireEvent("openpage","MainPage","login",null);return;}else{}}});break;case"login_invalid_facebook_info":Ext.device.Notification.show({title:"Create Account",message:Genesis.constants.createAccountMsg,callback:function(s){j.setLoggedIn(false);Genesis.db.removeLocalDBAttrib("auth_code");var q=a.getController("MainPage");a.dispatch({action:"onCreateAccountTap",args:[null,null,null,null],controller:q,scope:q});}});return;case"update_account_invalid_info":case"signup_invalid_info":case"update_account_invalid_facebook_info":case"login_invalid_info":Ext.device.Notification.show({title:"Login Error",message:p,callback:function(){j.setLoggedIn(false);Genesis.db.resetStorage();j.fireEvent("openpage","MainPage","login",null);}});return;default:console.log("Error - "+e.rescode);Ext.device.Notification.show({title:"Error",message:p});break;}console.debug("Ajax ErrorHandler called. Operation("+c.wasSuccessful()+")");k.fireEvent("exception",k,d,c);};if((n===true)||(!f.aborted&&(Genesis.constants.isNative()===true))){try{l=h.process(d);}catch(i){console.debug("Ajax call failed with message=["+i.message+"] url=["+f.getUrl()+"]");c.setException(c,{status:null,statusText:i.message});g();return;}if(c.process(b,l,f,d)===false){g();}}else{console.debug("Ajax call failed with status=["+d.status+"] url=["+f.getUrl()+"]");k.setException(c,d);g();}if(typeof m=="function"){m.call(o||k,c);}k.afterRequest(f,n);},buildRequest:function(b){var a=Genesis.db.getLocalDB();if(a.auth_code){this.setExtraParam("auth_token",a.auth_code);}else{delete this.getExtraParams()["auth_token"];}var c=this.callParent(arguments);if(b.initialConfig.jsonData){c.setJsonData(b.initialConfig.jsonData);}return c;}});Ext.define("Genesis.data.Connection",{override:"Ext.data.Connection",parseStatus:function(a){a=a==1223?204:a;var c=(a>=200&&a<300)||a==304,b=false;if(Genesis.constants.isNative()&&(a===0)){}if(!c){switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:b=true;break;}}return({success:c,isException:b});}});Ext.define("Genesis.field.Select",{override:"Ext.field.Select",getListPanel:function(){if(!this.listPanel){this.listPanel=Ext.create("Ext.Panel",{top:0,left:0,height:"9em",modal:true,cls:Ext.baseCSSPrefix+"select-overlay",layout:"fit",hideOnMaskTap:true,items:{xtype:"list",store:this.getStore(),itemTpl:'<span class="x-list-label">{'+this.getDisplayField()+"}</span>",listeners:{select:this.onListSelect,itemtap:this.onListTap,scope:this}}});}return this.listPanel;}});Ext.define("Genesis.dataview.element.List",{override:"Ext.dataview.element.List",updateListItem:function(d,k){var h=this,e=h.dataview,j=Ext.fly(k),g=j.down(h.labelClsCache,true),c=e.prepareData(d.getData(true),e.getStore().indexOf(d),d),b=e.getDisclosureProperty(),a,l=c&&c.hasOwnProperty("iconSrc"),f,i;g.innerHTML=e.getItemTpl().apply(c);a=c&&c.hasOwnProperty(b);if(a){f=j.down(h.disclosureClsCache);f[c[b]===false?"addCls":"removeCls"](h.hiddenDisplayCache);}if(e.getIcon()){i=j.down(h.iconClsCache,true);i.style.backgroundImage=l?'url("'+l+'")':"";}}});Ext.define("Genesis.tab.Bar",{override:"Ext.tab.Bar",doSetActiveTab:function(b,a){this.callParent(arguments);this.fireAction("tabchange",[this,b,a]);}});Ext.define("Genesis.device.connection.PhoneGap",{override:"Ext.device.connection.PhoneGap",syncOnline:function(){var a=navigator.network.connection.type;this._type=a;this._online=(a!=Connection.NONE)&&(a!=Connection.UNKNOWN);}});Ext.define("Genesis.data.proxy.PagingMemory",{extend:"Ext.data.proxy.Memory",alias:"proxy.pagingmemory",alternateClassName:"Genesis.data.PagingMemoryProxy",read:function(b,f,c){var d=this,a=d.getReader();var e={data:a.getRoot(d.getData()).slice(b.getStart(),b.getStart()+b.getLimit()),total:a.getTotal(d.getData())};if(b.process("read",a.process(e))===false){this.fireEvent("exception",this,null,b);}Ext.callback(f,c||d,[b]);},});Ext.define("Genesis.plugin.ListPaging",{extend:"Ext.plugin.ListPaging",loadNextPage:function(){var a=this;if(!a.storeFullyLoaded()){a.callParent(arguments);}}});Ext.define("Genesis.plugin.PullRefresh",{override:"Ext.plugin.PullRefresh",resetRefreshState:function(){Ext.device.Notification.beep(1);this.callParent(arguments);}});Ext.merge(Array.prototype,{binarySearch:function(f,b){var a=0,e=this.length-1,c,d;while(a<=e){c=Math.floor((a+e)/2);d=b(this[c],f);if(d<0){a=c+1;continue;}if(d>0){e=c-1;continue;}return c;}return null;}});Ext.merge(String.prototype,{getFuncBody:function(){var a=this.toString();a=a.replace(/[^{]+\{/,"");a=a.substring(0,a.length-1);a=a.replace(/\n/gi,"");if(!a.match(/\(.*\)/gi)){a+=")";}return a;},strip:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"");},stripScripts:function(){return this.replace(new RegExp("<noscript[^>]*?>([\\S\\s]*?)</noscript>","img"),"").replace(new RegExp("<script[^>]*?>([\\S\\s]*?)<\/script>","img"),"").replace(new RegExp("<link[^>]*?>([\\S\\s]*?)</link>","img"),"").replace(new RegExp("<link[^>]*?>","img"),"").replace(new RegExp("<iframe[^>]*?>([\\S\\s]*?)</iframe>","img"),"").replace(new RegExp("<iframe[^>]*?>","img"),"").replace(new RegExp("<embed[^>]*?>([\\S\\s]*?)</embed>","img"),"").replace(new RegExp("<embed[^>]*?>","img"),"").replace(new RegExp("<object[^>]*?>([\\S\\s]*?)</object>","img"),"").replace(new RegExp("<object[^>]*?>","img"),"").replace(new RegExp("<applet[^>]*?>([\\S\\s]*?)</applet>","img"),"").replace(new RegExp("<applet[^>]*?>","img"),"").replace(new RegExp("<button[^>]*?>([\\S\\s]*?)</button>","img"),"").replace(new RegExp("<button[^>]*?>","img"),"").replace(new RegExp("<input[^>]*?>([\\S\\s]*?)</input>","img"),"").replace(new RegExp("<input[^>]*?>","img"),"").replace(new RegExp("<style[^>]*?>([\\S\\s]*?)</style>","img"),"").replace(new RegExp("<style[^>]*?>","img"),"");},stripTags:function(){return this.replace(/<\/?[^>]+>/gi,"");},stripComments:function(){return this.replace(/<!(?:--[\s\S]*?--\s*)?>\s*/g,"");},times:function(c){var b="";for(var a=0;a<c;a++){b+=this;}return b;},zp:function(a){return("0".times(a-this.length)+this);},capitalize:function(){return this.replace(/\w+/g,function(b){return b.charAt(0).toUpperCase()+b.substr(1);});},uncapitalize:function(){return this.replace(/\w+/g,function(b){return b.charAt(0).toLowerCase()+b.substr(1);});},trim:function(a){if(a=="left"){return this.replace(/^\s*/,"");}if(a=="right"){return this.replace(/\s*$/,"");}if(a=="normalize"){return this.replace(/\s{2,}/g," ").trim();}return this.trim("left").trim("right");},trunc:function(a){return(this.length>(a-4))?this.substring(0,a-4)+" ...":this;},htmlEncode:(function(){var d={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;"},b=[],c,a;for(c in d){b.push(c);}a=new RegExp("("+b.join("|")+")","g");return function(e){return(!e)?e:String(e).replace(a,function(g,f){return d[f];});};})(),htmlDecode:(function(){var d={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'},b=[],c,a;for(c in d){b.push(c);}a=new RegExp("("+b.join("|")+"|&#[0-9]{1,5};)","g");return function(e){return(!e)?e:String(e).replace(a,function(g,f){if(f in d){return d[f];}else{return String.fromCharCode(parseInt(f.substr(2),10));}});};})()});